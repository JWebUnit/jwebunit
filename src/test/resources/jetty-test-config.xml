<?xml version="1.0"?>
<!DOCTYPE Configure PUBLIC "-//Mort Bay Consulting//DTD Configure//EN" "http://jetty.mortbay.org/configure.dtd">



<!-- =============================================================== -->
<!-- Configure the Jetty Server                                      -->
<!-- =============================================================== -->
<Configure class="org.mortbay.jetty.Server">

   <!-- =========================================================== -->
    <!-- Server Thread Pool                                          -->
    <!-- =========================================================== -->
    <Set name="ThreadPool">
      <New class="org.mortbay.thread.BoundedThreadPool">
        <Set name="minThreads">10</Set>
        <Set name="maxThreads">100</Set>
      </New>
    </Set>

    <!-- =========================================================== -->
    <!-- Set connectors                                              -->
    <!-- =========================================================== -->
    <!-- One of each type!                                           -->
    <!-- =========================================================== -->
    <Set name="connectors">
      <Array type="org.mortbay.jetty.Connector">

        <!-- Use this connector if NIO is not available.
        <Item>
          <New class="org.mortbay.jetty.bio.SocketConnector">
            <Set name="port">8081</Set>
            <Set name="maxIdleTime">50000</Set>
          </New>
        </Item>
 -->
       
        <!-- Use this connector for few very active connections.
        <Item>
          <New class="org.mortbay.jetty.nio.BlockingChannelConnector">
            <Set name="port">8080</Set>
          </New>
        </Item>
        -->

        <!-- Use this connector for many frequently idle connections
             and for threadless continuations.
        -->
        <Item>
          <New class="org.mortbay.jetty.nio.SelectChannelConnector">
            <Set name="port">8082</Set>
            <Set name="maxIdleTime">30000</Set>
            <Set name="Acceptors">10</Set>
          </New>
        </Item>

      </Array>
    </Set>

    <!-- =========================================================== -->
    <!-- Set handlers                                                -->
    <!-- =========================================================== -->
    <Set name="handlers">
      <Array type="org.mortbay.jetty.Handler">

        <!-- ======================================================= -->
        <!-- Configure a test web application with web.xml           -->
        <!-- ======================================================= -->
        <Item>
          <New id="testWebAppContext"  class="org.mortbay.jetty.webapp.WebAppContext">
            <Set name="contextPath">/jwebunit</Set>
            <Set name="war">./src/test/resources/testcases/</Set>
            <Set name="VirtualHosts"><Array type="java.lang.String"></Array></Set>
            <Get name="SessionHandler">
              <Set name="SessionManager"><New class="org.mortbay.jetty.servlet.HashSessionManager"/></Set>
            </Get>
          </New>
        </Item>
        
      </Array>
    </Set>

    <!-- =========================================================== -->
    <!-- extra options                                               -->
    <!-- =========================================================== -->
    <Set name="stopAtShutdown">true</Set>

</Configure>

